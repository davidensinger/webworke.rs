// ==========================================================================
//
//  Secondary
//  See _includes/sidebar.html
//
// ==========================================================================


.siteSecondary {
  position: relative;
  z-index: 0;
  @include rem(padding, $triple-spacing-unit 6%);
  color: $white-dark;
  background: $black-light;

  &:before {
    @include absolute(top 0 right 0 left 0 bottom 0);
    z-index: -1;
    content: "";
    background-image: -webkit-radial-gradient(14% 10rem, circle farthest-corner, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0) 100%);
    background-image: radial-gradient(14% 10rem, circle farthest-corner, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0) 100%);
  }
}

.sidebarPrimary {
  width: auto;
  overflow: hidden; // create new block formatting context so text doesn’t wrap under .sidebarSecondary
}

.sidebarSecondary {
  float: left;
  @include rem(margin-right, $double-spacing-unit);
  width: 20%;

  // start breakpoints
  @include breakpoint(tablet-portrait-to-small-desktop) {
    width: 25%;
  }

  @include breakpoint(mobile-landscape-to-tablet-portrait) {
    width: 30%;
  }

  @include breakpoint(mobile-portrait-to-mobile-landscape) {
    float: none;
    width: 75%;
    @include rem(margin, 0 auto $base-spacing-unit);
  }
}


// -------------------------------------
//  Heading
// -------------------------------------

.sidebar-heading {
  @include rem(padding-bottom, $half-spacing-unit);
  border-bottom: 2px solid;
}

.sidebar-heading--top {
  @include rem(margin-bottom, $base-spacing-unit);
  @extend .hidden; // hide this initially. I know, kinda janky.

  // start breakpoints
  @include breakpoint(all-mobile) {
    display: block;
    visibility: visible;
  }
  @include breakpoint(mobile-portrait-to-mobile-landscape) {
    @include rem(margin-bottom, $one-half-spacing-unit);
  }
}

.sidebar-heading--bottom {
  margin-top: 0;

  // start breakpoints
  @include breakpoint(all-mobile) {
    display: none;
    visibility: hidden;
  }
}

.sidebar-heading--link {
  &:hover {

    // accompanying character entity
    .sidebar-character {
      color: inherit;
    }
  }

  &:focus {

    // accompanying character entity
    .sidebar-character {
      color: $focus;
    }
  }
}

.sidebar-title {
  text-transform: uppercase;
}

.sidebar-preposition {
}

.sidebar-organization {
  @extend .sidebar-title;
}

// accompanying character entity
.sidebar-character {
  color: $black-lighter;
}


// -------------------------------------
//  Description
// -------------------------------------

.sidebar-description {
  margin-bottom: 0;
}


// -------------------------------------
//  Image
// -------------------------------------

.sidebar-image {
  display: block;
  @include rem(margin, $quarter-spacing-unit 0 $half-spacing-unit);

  // image tag within .sidebar-image
  img {
    border-radius: 50%;
  }

  // start breakpoints
  @include breakpoint(mobile-portrait-to-mobile-landscape) {
    @include rem(margin, 0 0 $base-spacing-unit);
  }
}

.sidebar-caption {
  @extend .citation-small; // core/_base.scss
}

.sidebar-caption--link {
  @extend .citation-small--link; // core/_base.scss
  @extend %link-border--bottom; // layout/_details.scss
}


// -------------------------------------
//  Links
// -------------------------------------

.sidebar-links--list {
  @include rem(margin-top, $base-spacing-unit);
}

.sidebar-links--link {
  @include rem(margin-bottom, $half-spacing-unit);
  display: block;
  width: 36px;
  height: 36px;
  background-image: url("../images/sprite-icons--sidebar.svg");
  background-repeat: no-repeat;

  &:active {
    @extend %link-active--depressed;
  }

  // TODO: PNG fallback for browsers that don’t support SVG
  .no-svg & {
    background-image: url("../images/sprite-icons--sidebar.png");
  }

  &.behance {
    background-position: 0 0;

    &:focus {
      background-position: 0 -36px;
    }
    &:hover {
      background-position: 0 -72px;
    }
  }
  &.blogger {
    background-position: -36px 0;

    &:focus {
      background-position: -36px -36px;
    }
    &:hover {
      background-position: -36px -72px;
    }
  }
  &.dribbble {
    background-position: -72px 0;

    &:focus {
      background-position: -72px -36px;
    }
    &:hover {
      background-position: -72px -72px;
    }
  }
  &.email {
    background-position: -108px 0;

    &:focus {
      background-position: -108px -36px;
    }
    &:hover {
      background-position: -108px -72px;
    }
  }
  &.facebook {
    background-position: -144px 0;

    &:focus {
      background-position: -144px -36px;
    }
    &:hover {
      background-position: -144px -72px;
    }
  }
  &.flickr {
    background-position: -180px 0;

    &:focus {
      background-position: -180px -36px;
    }
    &:hover {
      background-position: -180px -72px;
    }
  }
  &.github {
    background-position: -216px 0;

    &:focus {
      background-position: -216px -36px;
    }
    &:hover {
      background-position: -216px -72px;
    }
  }
  &.googleplus {
    background-position: -252px 0;

    &:focus {
      background-position: -252px -36px;
    }
    &:hover {
      background-position: -252px -72px;
    }
  }
  &.instagram {
    background-position: -288px 0;

    &:focus {
      background-position: -288px -36px;
    }
    &:hover {
      background-position: -288px -72px;
    }
  }
  &.linkedin {
    background-position: -324px 0;

    &:focus {
      background-position: -324px -36px;
    }
    &:hover {
      background-position: -324px -72px;
    }
  }
  &.pinterest {
    background-position: -360px 0;

    &:focus {
      background-position: -360px -36px;
    }
    &:hover {
      background-position: -360px -72px;
    }
  }
  &.tumblr {
    background-position: -396px 0;

    &:focus {
      background-position: -396px -36px;
    }
    &:hover {
      background-position: -396px -72px;
    }
  }
  &.twitter {
    background-position: -432px 0;

    &:focus {
      background-position: -432px -36px;
    }
    &:hover {
      background-position: -432px -72px;
    }
  }
  &.youtube {
    background-position: -468px 0;

    &:focus {
      background-position: -468px -36px;
    }
    &:hover {
      background-position: -468px -72px;
    }
  }
  &.vimeo {
    background-position: -504px 0;

    &:focus {
      background-position: -504px -36px;
    }
    &:hover {
      background-position: -504px -72px;
    }
  }
  &.website {
    background-position: -540px 0;

    &:focus {
      background-position: -540px -36px;
    }
    &:hover {
      background-position: -540px -72px;
    }
  }
}


// -------------------------------------
//  Tooltip
//  Hat tip to https://github.com/chinchang/hint.css
// -------------------------------------

[data-tooltip] {
  position: relative;
  &:before,
  &:after {
    position: absolute;
    @extend .invisible; // core/_helpers.scss
    -webkit-transform: translate3d(0, 0, 0);
    -moz-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    -webkit-transition: 0.3s ease;
    -moz-transition: 0.3s ease;
    transition: 0.3s ease;
    pointer-events: none;
  }
  &:before {
    content: "";
    top: -4px;
    left: 13px;
    background-color: transparent;
    border-top: 5px solid $white;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
  }
  &:after {
    content: attr(data-tooltip);
    top: -28px;
    left: 1px;
    @include rem(padding, $eighth-spacing-unit $quarter-spacing-unit);
    font-size: $milli-size;
    font-weight: $base-font-weight-bold;
    color: $black;
    background-color: $white;
    border-radius: 2px;
    white-space: nowrap;
  }
  &:hover {
    &:before,
    &:after {
      @extend .visible; // core/_helpers.scss
      -webkit-transform: translateY(-4px);
      -moz-transform: translateY(-4px);
      transform: translateY(-4px);
    }
  }
}
